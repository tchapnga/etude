@startuml
skinparam shadowing false
skinparam monochrome false
skinparam ArrowColor #333333
skinparam BackgroundColor #F9F9F9
skinparam FontName Arial
skinparam FontSize 12

skinparam rectangle {
  BackgroundColor #F7F7F7
  BorderColor #CCCCCC
}
skinparam package {
  BackgroundColor #EFEFEF
  BorderColor #BBBBBB
}

actor Clientele as clientele
actor Conseil as conseil

package "Poste banque" {
  rectangle "Scripts" as scripts #E0F7FF
  component "Middleware (Connecteur Local)" as middleware #FFD700
  component "Ether" as ether #E0F7FF
  component "USD - Unified Service Desk" as usd #E0F7FF
}

component "KBT/KBS - Chatbot" as chatbot #FFEEEE
component "YX7 - Prise de rendez-vous" as rendezvous #FFEEEE
component "Genesys Cloud" as genesys #FFCCCC
component "X1J - Spitch" as spitch #FFDADA
component "YB1 - Recherche Tiers" as recherche_tiers #FFDADA
component "BBO - Backend conversation" as backend_conversation #FFE5CC
component "BVD - Vision Client 360" as vision_client #CCE5FF
component "Microsoft Dynamics" as dynamics #CCCCFF

conseil --> genesys : Prise en charge appel
clientele --> genesys : Appel
clientele --> chatbot : Chat
chatbot --> rendezvous : Demande callback
rendezvous --> genesys : Réservation callback

genesys --> recherche_tiers : Recherche tiers
genesys --> spitch : VoiceBot débranchement

genesys --> middleware : Envoi webhook/API
middleware --> scripts : Déclenchement script (poste conseiller)
scripts --> usd : Déclenchement USD
scripts --> ether : Chargement scripts

ether --> vision_client : Accès Vision Client 360
usd --> dynamics : Accès CRM complet

spitch --> backend_conversation : Identification appelant
vision_client --> backend_conversation : Compte rendu

@enduml
